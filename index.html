<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ó –î–Ω–µ–º –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è! üéÇ</title>
<style>
body {
    margin: 0;
    height: 100vh;
    background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    display: flex;
    justify-content: center;
    align-items: center;
    perspective: 1500px;
    font-family: 'Segoe UI', sans-serif;
    overflow: hidden;
}
.card {
    width: 400px;
    height: 250px;
    max-width: 80vw;
    max-height: 60vh;
    position: relative;
    transform-style: preserve-3d;
    transform: rotateY(0deg);
    transition: transform 1s ease;
    cursor: pointer;
}
.card.open {
    transform: rotateY(-160deg);
}
.side {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 15px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.3);
    display: flex;
    justify-content: center;
    align-items: center;
}
.front {
    background: #ff6f91;
    color: white;
    font-size: 18px;
    font-weight: bold;
    padding: 20px;
    text-align: center;
}
.back {
    background: white;
    color: #444;
    transform: rotateY(180deg);
    padding: 15px;
    text-align: center;
    font-size: 16px;
}
h1 {
    color: #ff4081;
    font-size: 20px;
    margin: 0;
}
p {
    margin-top: 10px;
    font-size: 14px;
    white-space: pre-line;
    min-height: 80px;
}
canvas {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 1000;
}
button#playMusic {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    padding: 8px 16px;
    font-size: 14px;
    background: #ff6f91;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    z-index: 1001;
}
</style>
</head>
<body>

<div class="card" id="birthdayCard">
    <div class="side front">üéÅ –ö–ª–∞—Ü–Ω–∏, —â–æ–± –≤—ñ–¥–∫—Ä–∏—Ç–∏ üéÅ</div>
    <div class="side back">
        <div>
            <h1 id="greetingTitle"></h1>
            <p id="greetingText"></p>
        </div>
    </div>
</div>

<canvas id="confetti"></canvas>
<audio id="music" src="happy_birthday.mp3" preload="auto"></audio>
<button id="playMusic">–í–∫–ª—é—á–∏—Ç–∏ –º—É–∑–∏–∫—É üéµ</button>

<script>
const greetings = [
    "–ë–∞–∂–∞—é, —â–æ–± —Ç–≤—ñ–π Wi-Fi –∑–∞–≤–∂–¥–∏ –±—É–≤ —à–≤–∏–¥–∫–∏–π, —Å—É—Å—ñ–¥–∏ —Ç–∏—Ö—ñ, –∑–∞—Ä–ø–ª–∞—Ç–∞ –≤–µ–ª–∏–∫–∞, –∞ –¥–∑–µ—Ä–∫–∞–ª–æ –ø–æ–∫–∞–∑—É–≤–∞–ª–æ —Ç—ñ–ª—å–∫–∏ –º–æ–¥–µ–ª—å–∫—É ü§©",
    "–ù–µ—Ö–∞–π —É —Ç–≤–æ—î–º—É –∂–∏—Ç—Ç—ñ –±—É–¥–µ —Å—Ç—ñ–ª—å–∫–∏ —Ä–∞–¥–æ—Å—Ç—ñ, —Å–∫—ñ–ª—å–∫–∏ –∫–æ—Ç—ñ–≤ —É TikTok, —ñ —â–µ —Ç—Ä—ñ—à–∫–∏ –±—ñ–ª—å—à–µ üê±",
    "–©–æ–± —Ç–≤—ñ–π —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫ –∑–∞–≤–∂–¥–∏ –±—É–≤ –ø–æ–≤–Ω–∏–π, –±–∞—Ç–∞—Ä–µ—è –∑–∞—Ä—è–¥–∂–µ–Ω–∞, –∞ Netflix –Ω–µ –∑–∞–≤–∏—Å–∞–≤ üì∫",
    "–•–∞–π –∫–æ–∂–µ–Ω —Ç–≤—ñ–π —Ä–∞–Ω–æ–∫ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ –∫–∞–≤–∏ —ñ –ª—é–±–æ–≤—ñ, –∞ –Ω–µ –∑ –±—É–¥–∏–ª—å–Ω–∏–∫–∞ —ñ –ø—Ä–æ–±–ª–µ–º ‚òï‚ù§Ô∏è",
    "–ë–∞–∂–∞—é –º–∞—Ç–∏ —Å—Ç—ñ–ª—å–∫–∏ –≥—Ä–æ—à–µ–π, —â–æ–± –Ω–∞–≤—ñ—Ç—å –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –¥–∏–≤—É–≤–∞–≤—Å—è üí∏",
    "–¶–≤—ñ—Ç–∏ —è–∫ –∫–≤—ñ—Ç–æ—á–∫–∞!\n\n–ü–∞—Ö–Ω–∏ —è–∫ –∫–≤—ñ—Ç–æ—á–∫–∞!\n\n–†–æ—Å—Ç–∏ —è–∫ –∫–≤—ñ—Ç–æ—á–∫–∞!\n\n–ñ–∞–ª—å —è–∫ –±–¥–∂–æ–ª–∞! üêù"
];

const titles = [
    "–õ—î–Ω–∞, Happy B-Day! ü•≥",
    "Happy B-Day! ü•≥",
    "Happy Birthday! üéÇ"
];

const card = document.getElementById('birthdayCard');
const greetingText = document.getElementById('greetingText');
const greetingTitle = document.getElementById('greetingTitle');
const canvas = document.getElementById('confetti');
const ctx = canvas.getContext('2d');
const music = document.getElementById('music');
const btnMusic = document.getElementById('playMusic');
let confettiParticles = [];

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const selectedGreeting = greetings[Math.floor(Math.random() * greetings.length)];
const selectedTitle = titles[Math.floor(Math.random() * titles.length)];
greetingTitle.textContent = selectedTitle;

function random(min, max){ return Math.random()*(max-min)+min; }

function createConfetti(){
    confettiParticles=[];
    for(let i=0;i<150;i++){
        confettiParticles.push({
            x: random(0, canvas.width),
            y: random(-canvas.height,0),
            r: random(2,6),
            color: `hsl(${random(0,360)},100%,50%)`,
            speedY: random(1,3),
            speedX: random(-1,1)
        });
    }
}

function drawConfetti(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    confettiParticles.forEach(p=>{
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        ctx.fillStyle=p.color;
        ctx.fill();
    });
    updateConfetti();
    requestAnimationFrame(drawConfetti);
}

function updateConfetti(){
    confettiParticles.forEach(p=>{
        p.y+=p.speedY;
        p.x+=p.speedX;
        if(p.y>canvas.height)p.y=0;
    });
}

function typeWriter(text,element,speed=40){
    element.textContent="";
    let i=0;
    function typing(){
        if(i<text.length){
            element.textContent+=text.charAt(i);
            i++;
            setTimeout(typing,speed);
        }
    }
    typing();
}

card.addEventListener('click',()=>{
    if(!card.classList.contains('open')){
        card.classList.add('open');
        createConfetti();
        drawConfetti();
        typeWriter(selectedGreeting,greetingText);
    } else {
        card.classList.remove('open');
        greetingText.textContent="";
    }
});

btnMusic.addEventListener('click', () => {
    music.currentTime = 0;
    music.play();
    btnMusic.style.display = 'none'; // —Ö–æ–≤–∞—î–º–æ –∫–Ω–æ–ø–∫—É –ø—ñ—Å–ª—è –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è
});

window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});
</script>
</body>
</html>
